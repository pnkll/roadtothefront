{"ast":null,"code":"import { getUsers, sub, unSub } from \"../../components/api/api\";\nimport { toogleIsFetching, setUsers, setPage, follow, unfollow, toogleOfButton } from \"../usersReducer\";\nexport const getUsersThunk = (currentPage, pageSize) => dispatch => {\n  toogleIsFetching(true);\n  getUsers(currentPage, pageSize).then(response => {\n    dispatch(setUsers(response.data.items));\n    dispatch(toogleIsFetching(false));\n  });\n};\nexport const onSetPageThunk = (pageNum, pageSize) => dispatch => {\n  dispatch(setPage(pageNum));\n  dispatch(toogleIsFetching(true));\n  getUsers(pageNum, pageSize).then(response => {\n    dispatch(setUsers(response.data.items));\n    dispatch(toogleIsFetching(false));\n  });\n};\nexport const followThunk = userId => dispatch => {\n  sub(userId).then(response => {\n    if (response.data.resultCode == 0) {\n      dispatch(follow(userId));\n    }\n\n    dispatch(toogleOfButton(false));\n  });\n};\nexport const unFollowThunk = userId => dispatch => {\n  unSub(userId).then(response => {\n    if (response.data.resultCode == 0) {\n      dispatch(unfollow(userId));\n    }\n  });\n};","map":{"version":3,"sources":["/home/user/Документы/reactApps/pet/roadtothefront/src/redux/async/usersThunk.js"],"names":["getUsers","sub","unSub","toogleIsFetching","setUsers","setPage","follow","unfollow","toogleOfButton","getUsersThunk","currentPage","pageSize","dispatch","then","response","data","items","onSetPageThunk","pageNum","followThunk","userId","resultCode","unFollowThunk"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,GAAnB,EAAwBC,KAAxB,QAAqC,0BAArC;AACA,SAASC,gBAAT,EAA2BC,QAA3B,EAAqCC,OAArC,EAA8CC,MAA9C,EAAsDC,QAAtD,EAAgEC,cAAhE,QAAsF,iBAAtF;AAIA,OAAO,MAAMC,aAAa,GAAG,CAACC,WAAD,EAAcC,QAAd,KAA4BC,QAAD,IAAc;AAClET,EAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACAH,EAAAA,QAAQ,CAACU,WAAD,EAAcC,QAAd,CAAR,CACKE,IADL,CACUC,QAAQ,IAAI;AACdF,IAAAA,QAAQ,CAACR,QAAQ,CAACU,QAAQ,CAACC,IAAT,CAAcC,KAAf,CAAT,CAAR;AACAJ,IAAAA,QAAQ,CAACT,gBAAgB,CAAC,KAAD,CAAjB,CAAR;AACH,GAJL;AAKH,CAPM;AASP,OAAO,MAAMc,cAAc,GAAG,CAACC,OAAD,EAAUP,QAAV,KAAwBC,QAAD,IAAc;AAC/DA,EAAAA,QAAQ,CAACP,OAAO,CAACa,OAAD,CAAR,CAAR;AACAN,EAAAA,QAAQ,CAACT,gBAAgB,CAAC,IAAD,CAAjB,CAAR;AACAH,EAAAA,QAAQ,CAACkB,OAAD,EAAUP,QAAV,CAAR,CACKE,IADL,CACUC,QAAQ,IAAI;AACdF,IAAAA,QAAQ,CAACR,QAAQ,CAACU,QAAQ,CAACC,IAAT,CAAcC,KAAf,CAAT,CAAR;AACAJ,IAAAA,QAAQ,CAACT,gBAAgB,CAAC,KAAD,CAAjB,CAAR;AACH,GAJL;AAKH,CARM;AAUP,OAAO,MAAMgB,WAAW,GAAIC,MAAD,IAAaR,QAAD,IAAc;AACjDX,EAAAA,GAAG,CAACmB,MAAD,CAAH,CAAYP,IAAZ,CAAiBC,QAAQ,IAAI;AACzB,QAAIA,QAAQ,CAACC,IAAT,CAAcM,UAAd,IAA4B,CAAhC,EAAmC;AAC/BT,MAAAA,QAAQ,CAACN,MAAM,CAACc,MAAD,CAAP,CAAR;AACH;;AACDR,IAAAA,QAAQ,CAACJ,cAAc,CAAC,KAAD,CAAf,CAAR;AACH,GALD;AAMH,CAPM;AASP,OAAO,MAAMc,aAAa,GAAIF,MAAD,IAAaR,QAAD,IAAc;AACnDV,EAAAA,KAAK,CAACkB,MAAD,CAAL,CACKP,IADL,CACUC,QAAQ,IAAI;AACd,QAAIA,QAAQ,CAACC,IAAT,CAAcM,UAAd,IAA4B,CAAhC,EAAmC;AAC/BT,MAAAA,QAAQ,CAACL,QAAQ,CAACa,MAAD,CAAT,CAAR;AACH;AACJ,GALL;AAMH,CAPM","sourcesContent":["import { getUsers, sub, unSub } from \"../../components/api/api\";\nimport { toogleIsFetching, setUsers, setPage, follow, unfollow, toogleOfButton } from \"../usersReducer\";\n\n\n\nexport const getUsersThunk = (currentPage, pageSize) => (dispatch) => {\n    toogleIsFetching(true);\n    getUsers(currentPage, pageSize)\n        .then(response => {\n            dispatch(setUsers(response.data.items))\n            dispatch(toogleIsFetching(false))\n        })\n}\n\nexport const onSetPageThunk = (pageNum, pageSize) => (dispatch) => {\n    dispatch(setPage(pageNum))\n    dispatch(toogleIsFetching(true))\n    getUsers(pageNum, pageSize)\n        .then(response => {\n            dispatch(setUsers(response.data.items))\n            dispatch(toogleIsFetching(false))\n        })\n}\n\nexport const followThunk = (userId) => (dispatch) => {\n    sub(userId).then(response => {\n        if (response.data.resultCode == 0) {\n            dispatch(follow(userId))\n        }\n        dispatch(toogleOfButton(false))\n    })\n}\n\nexport const unFollowThunk = (userId) => (dispatch) => {\n    unSub(userId)\n        .then(response => {\n            if (response.data.resultCode == 0) {\n                dispatch(unfollow(userId))\n            }\n        })\n}"]},"metadata":{},"sourceType":"module"}