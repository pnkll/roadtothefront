{"ast":null,"code":"import { getAuth, login, logout } from \"../../components/api/api\";\nimport { logoutAC, setUserData } from \"../authReducer\";\nexport const checkAuth = () => dispatch => {\n  getAuth().then(response => {\n    const login = response.data.data.login;\n    const email = response.data.data.email;\n    const userId = response.data.data.id;\n    const result = response.data.resultCode;\n\n    if (result === 0) {\n      dispatch(setUserData(userId, login, email));\n    }\n  });\n};\nexport const loginThunk = values => dispatch => {\n  login(values.email, values.password, values.rememberMe).then(response => {\n    if (response.data.resultCode === 0) {\n      // dispatch(setUserData(response.data.data.userId, 'painkill', values.email))\n      dispatch(checkAuth());\n    }\n  });\n};\nexport const logoutThunk = () => dispatch => {\n  dispatch(logoutAC);\n};","map":{"version":3,"sources":["/home/painkill/Рабочий стол/projects/socialNetwork/roadtothefront/src/redux/async/authThunk.js"],"names":["getAuth","login","logout","logoutAC","setUserData","checkAuth","dispatch","then","response","data","email","userId","id","result","resultCode","loginThunk","values","password","rememberMe","logoutThunk"],"mappings":"AAAA,SAASA,OAAT,EAAkBC,KAAlB,EAAyBC,MAAzB,QAAuC,0BAAvC;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,gBAAtC;AAEA,OAAO,MAAMC,SAAS,GAAG,MAAOC,QAAD,IAAc;AACzCN,EAAAA,OAAO,GACJO,IADH,CACQC,QAAQ,IAAI;AAChB,UAAMP,KAAK,GAAGO,QAAQ,CAACC,IAAT,CAAcA,IAAd,CAAmBR,KAAjC;AACA,UAAMS,KAAK,GAAGF,QAAQ,CAACC,IAAT,CAAcA,IAAd,CAAmBC,KAAjC;AACA,UAAMC,MAAM,GAAGH,QAAQ,CAACC,IAAT,CAAcA,IAAd,CAAmBG,EAAlC;AACA,UAAMC,MAAM,GAAGL,QAAQ,CAACC,IAAT,CAAcK,UAA7B;;AACA,QAAKD,MAAM,KAAK,CAAhB,EAAkB;AAClBP,MAAAA,QAAQ,CAACF,WAAW,CAACO,MAAD,EAASV,KAAT,EAAgBS,KAAhB,CAAZ,CAAR;AACC;AACF,GATH;AAUH,CAXM;AAaP,OAAO,MAAMK,UAAU,GAAIC,MAAD,IAAaV,QAAD,IAAc;AAClDL,EAAAA,KAAK,CAACe,MAAM,CAACN,KAAR,EAAeM,MAAM,CAACC,QAAtB,EAAgCD,MAAM,CAACE,UAAvC,CAAL,CACCX,IADD,CACMC,QAAQ,IAAI;AAChB,QAAIA,QAAQ,CAACC,IAAT,CAAcK,UAAd,KAA6B,CAAjC,EAAoC;AAClC;AACAR,MAAAA,QAAQ,CAACD,SAAS,EAAV,CAAR;AACD;AACF,GAND;AAOD,CARM;AAUP,OAAO,MAAMc,WAAW,GAAG,MAAOb,QAAD,IAAc;AAC7CA,EAAAA,QAAQ,CAACH,QAAD,CAAR;AACD,CAFM","sourcesContent":["import { getAuth, login, logout } from \"../../components/api/api\"\nimport { logoutAC, setUserData } from \"../authReducer\"\n\nexport const checkAuth = () => (dispatch) => {\n    getAuth()\n      .then(response => {\n        const login = response.data.data.login\n        const email = response.data.data.email\n        const userId = response.data.data.id\n        const result = response.data.resultCode\n        if ( result === 0){\n        dispatch(setUserData(userId, login, email))\n        }\n      })\n}\n\nexport const loginThunk = (values) => (dispatch) => {\n  login(values.email, values.password, values.rememberMe)\n  .then(response => {\n    if (response.data.resultCode === 0) {\n      // dispatch(setUserData(response.data.data.userId, 'painkill', values.email))\n      dispatch(checkAuth())\n    }\n  })\n}\n\nexport const logoutThunk = () => (dispatch) => {\n  dispatch(logoutAC)\n}"]},"metadata":{},"sourceType":"module"}