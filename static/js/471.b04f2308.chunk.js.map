{"version":3,"file":"static/js/471.b04f2308.chunk.js","mappings":"uLACA,GAAgB,QAAU,yBAAyB,GAAK,oBAAoB,MAAQ,uBAAuB,KAAO,sBAAsB,GAAK,oBAAoB,SAAW,0BAA0B,SAAW,0BAA0B,KAAO,uB,mBCalP,EAXgB,SAACA,GACf,OACE,gBAAKC,UAA0B,MAAfD,EAAME,MAAgBC,EAAAA,GAAaA,EAAAA,MAAnD,UAAkE,iBAAKF,UAAWE,EAAAA,GAAhB,WAA4B,gBAAKC,IAAKJ,EAAMK,SAAUL,EAAMM,OAAM,mBACpI,iBAAKL,UAAWE,EAAAA,KAAhB,UAA+BH,EAAMO,MACrC,gBAAKN,UAAWE,EAAAA,KAAhB,SAA+BH,EAAMQ,gBCNzC,EAAyE,2B,UCSzE,MANA,SAAoBR,GAClB,OACE,gBAAKC,UAAWE,EAAhB,UAAgC,UAAC,KAAD,CAASM,GAAIT,EAAMU,KAAnB,WAAyB,gBAAKN,IAAKJ,EAAMK,SAAUL,EAAMW,W,wCCNhFC,EAAa,SAACC,GACvB,OAAOA,EAAMC,YAAYC,SAGhBC,EAAc,SAACH,GACxB,OAAOA,EAAMC,YAAYG,UCkE7B,EA3DgB,SAACjB,GAEf,IAAMkB,GAAWC,EAAAA,EAAAA,MAEXd,GAASe,EAAAA,EAAAA,IAAYC,EAAAA,IACrBf,GAAQc,EAAAA,EAAAA,IAAYE,EAAAA,IACpBL,GAAWG,EAAAA,EAAAA,IAAYJ,GACvBD,GAAUK,EAAAA,EAAAA,IAAYR,GAE5B,GAA0CW,EAAAA,EAAAA,MAAlCC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aAAcC,EAAhC,EAAgCA,MAE1BC,EAAO,IAAIC,KAcjB,GAA6BC,EAAAA,EAAAA,WAAS,GAAtC,eAAOC,EAAP,KAAiBC,EAAjB,KAEIC,EACFf,EAASgB,KAAI,SAAAC,GACX,MAAgB,MAAZA,EAAEC,QACI,SAAC,EAAD,CAAqBjC,MAAO,KAAMG,OAAQA,EAAQC,MAAOA,EAAOC,KAAM2B,EAAEE,QAAS5B,KAAM0B,EAAE1B,MAA3E0B,EAAEG,MAGhB,SAAC,EAAD,CAAqBnC,MAAO,QAASG,OAAQ6B,EAAEI,MAAO/B,KAAM2B,EAAEE,QAAS9B,MAAO,OAAQE,KAAM0B,EAAE1B,MAAhF0B,EAAEG,QAI1BE,EACFxB,EAAQkB,KAAI,SAAAO,GAAC,OAAK,SAAC,EAAD,CAAuBnC,OAAQmC,EAAEF,MAAOG,GAAID,EAAEC,GAAI9B,KAAM6B,EAAE7B,KAAMD,KAAM,YAAc8B,EAAEC,IAArED,EAAEC,OAGvC,OACE,iBAAKxC,UAAWE,EAAAA,QAAhB,WACE,gBAAKF,UAAWE,EAAAA,aAAhB,SACGoC,KAEH,iBAAKtC,UAAWE,EAAAA,SAAhB,UACG6B,GACD,kBAAMU,SAAUjB,GA9BH,SAACkB,GAClB,IAAMnC,GANQmB,EAAKiB,WAAa,GAAK,IAAMjB,EAAKiB,WAAajB,EAAKiB,YAEnD,KADCjB,EAAKkB,aAAe,GAAK,IAAMlB,EAAKkB,aAAelB,EAAKkB,cAMxE3B,GAAS4B,EAAAA,EAAAA,IAAwBH,EAAMP,QAAS5B,IAChDuB,GAAS,GACTL,OA0BI,WACE,0BAAOzB,UAAWE,EAAAA,SAAkB4C,KAAK,QAAWvB,EAAS,UAC3D,CAAEwB,SAAU,kBAAMjB,GAAS,QAC5BD,GAAW,kBAAO7B,UAAWE,EAAAA,OAAgB4C,KAAK,YAAc","sources":["webpack://study_project/./src/components/Dialogs/Dialogs.module.css?1b2e","components/Dialogs/Message/Message.jsx","webpack://study_project/./src/components/Dialogs/DialogItem/DialogItem.module.css?beb9","components/Dialogs/DialogItem/DialogItem.jsx","redux/selectors/dialogs-selectors.js","components/Dialogs/Dialogs.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"dialogs\":\"Dialogs_dialogs__BSTeo\",\"me\":\"Dialogs_me__Lf2SL\",\"notMe\":\"Dialogs_notMe__Or+x6\",\"text\":\"Dialogs_text__RLa82\",\"in\":\"Dialogs_in__vSbYS\",\"messages\":\"Dialogs_messages__jh5iy\",\"textArea\":\"Dialogs_textArea__Pp32M\",\"time\":\"Dialogs_time__jS3hl\"};","import React from 'react'\r\nimport classes from '../Dialogs.module.css'\r\n\r\nconst Message = (props) => {\r\n  return (\r\n    <div className={props.class == 'me' ? classes.me : classes.notMe}><div className={classes.in}><img src={props.avatar}/>{props.login}<br/>\r\n    <div className={classes.text}>{props.text}\r\n    <div className={classes.time}>{props.time}</div>\r\n    </div>\r\n    \r\n    </div></div>\r\n  )\r\n}\r\n\r\nexport default Message","// extracted by mini-css-extract-plugin\nexport default {\"dialogsItems\":\"DialogItem_dialogsItems__iZDMq\",\"dialog\":\"DialogItem_dialog__GiAQp\"};","import React from 'react'\r\nimport classes from './DialogItem.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nfunction DialogItem(props) {\r\n  return (\r\n    <div className={classes.dialog}><NavLink to={props.path}><img src={props.avatar}/>{props.name}</NavLink></div>\r\n  )\r\n}\r\n\r\nexport default DialogItem","export const getDialogs = (state) => {\r\n    return state.dialogsPage.dialogs\r\n}\r\n\r\nexport const getMessages = (state) => {\r\n    return state.dialogsPage.messages\r\n}","import classes from './Dialogs.module.css'\r\nimport Message from './Message/Message'\r\nimport DialogItem from './DialogItem/DialogItem';\r\nimport React, { useState } from 'react';\r\nimport { addMessageActionCreator } from '../../redux/reducers/dialogsReducer'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useForm } from 'react-hook-form';\r\nimport { getLogin, getPhoto } from '../../redux/selectors/auth-selectors'\r\nimport { getDialogs, getMessages } from '../../redux/selectors/dialogs-selectors';\r\n\r\n\r\n\r\nconst Dialogs = (props) => {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const avatar = useSelector(getPhoto)\r\n  const login = useSelector(getLogin)\r\n  const messages = useSelector(getMessages)\r\n  const dialogs = useSelector(getDialogs)\r\n\r\n  const { register, handleSubmit, reset } = useForm()\r\n\r\n  const date = new Date()\r\n  const getTime = () => {\r\n    const hours = date.getHours() < 10 ? '0' + date.getHours() : date.getHours()\r\n    const minutes = date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()\r\n    return hours + ':' + minutes\r\n  }\r\n\r\n  let onAddMessage = (value) => {\r\n    const time = getTime()\r\n    dispatch(addMessageActionCreator(value.message, time))\r\n    setState(false)\r\n    reset()\r\n  }\r\n\r\n  const [editMode, setState] = useState(false)\r\n\r\n  let messagesElems =\r\n    messages.map(m => {\r\n      if (m.userid == 'me') {\r\n        return (<Message key={m.key} class={'me'} avatar={avatar} login={login} text={m.message} time={m.time} />)\r\n      }\r\n      else {\r\n        return (<Message key={m.key} class={'other'} avatar={m.image} text={m.message} login={'User'} time={m.time} />)\r\n      }\r\n    })\r\n\r\n  var dialogsElems =\r\n    dialogs.map(d => (<DialogItem key={d.id} avatar={d.image} id={d.id} name={d.name} path={'/dialogs/' + d.id} />))\r\n\r\n\r\n  return (\r\n    <div className={classes.dialogs}>\r\n      <div className={classes.dialogsItems}>\r\n        {dialogsElems}\r\n      </div>\r\n      <div className={classes.messages}>\r\n        {messagesElems}\r\n        <form onSubmit={handleSubmit(onAddMessage)}>\r\n          <input className={classes.textArea} type='text' {...register('message',\r\n            { onChange: () => setState(true) })} />\r\n          {editMode ? <input className={classes.submit} type='submit' /> : <></>}\r\n        </form>\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default Dialogs"],"names":["props","className","class","classes","src","avatar","login","text","time","to","path","name","getDialogs","state","dialogsPage","dialogs","getMessages","messages","dispatch","useDispatch","useSelector","getPhoto","getLogin","useForm","register","handleSubmit","reset","date","Date","useState","editMode","setState","messagesElems","map","m","userid","message","key","image","dialogsElems","d","id","onSubmit","value","getHours","getMinutes","addMessageActionCreator","type","onChange"],"sourceRoot":""}