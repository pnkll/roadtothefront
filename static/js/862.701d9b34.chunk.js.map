{"version":3,"file":"static/js/862.701d9b34.chunk.js","mappings":"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","sources":["webpack://study_project/./src/components/common/Paginator/Paginator.module.css?6caa","components/common/Paginator/Paginator.jsx","redux/async/usersThunk.js","webpack://study_project/./src/components/Users/Users.module.css?b9d0","components/Users/User.jsx","components/Users/Users.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"selectedPage\":\"Paginator_selectedPage__jZJsY\",\"page\":\"Paginator_page__9EzNb\",\"btns\":\"Paginator_btns__JoHeL\"};","import { useState } from \"react\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport { onSetPageThunk } from \"../../../redux/async/usersThunk\"\r\nimport Preloader from \"../Preloader/Preloader\"\r\nimport classes from './Paginator.module.css'\r\n\r\nconst Paginator = ({ isFetching, pageSize, currentPage, totalItemsCount, portionSize }) => {\r\n\r\n    const dispatch = useDispatch()\r\n    const pages = []\r\n\r\n    const pagesCount = Math.ceil(totalItemsCount / pageSize) //Всего страниц\r\n    const portionCount = Math.ceil(pagesCount / portionSize) // Всего порций(вкладок)\r\n    const [portionNumber, setState] = useState(1)\r\n    const firstPortionItem = (portionNumber - 1) * portionSize + 1 //Номер первого элемента в порции\r\n    const lastPortionItem = portionNumber * portionSize //Номер последнего элемента в порции\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    const portionPages = pages.filter(p => (p >= firstPortionItem) && (p <= lastPortionItem)) //Какие элементы попадают в порцию\r\n\r\n    return (\r\n        <div className={classes.btns}>\r\n            <div>{isFetching ? <Preloader /> : null}</div>\r\n            {portionNumber > 1\r\n                && <button onClick={() => setState(portionNumber - 1)}>Down</button>}\r\n            {portionPages.map(p => {\r\n                return <span key={p} onClick=\r\n                    {(e) => { dispatch(onSetPageThunk(p, pageSize)) }} className={currentPage === p\r\n                        ? classes.selectedPage\r\n                        : classes.page}>{p}</span>\r\n            })}\r\n            {portionNumber < portionCount\r\n                && <button onClick={() => setState(portionNumber + 1)} name='next'>Next</button>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator","import { getUsers, sub, unSub } from \"../../components/api/api\";\r\nimport { toogleIsFetching, setUsers, setPage, follow, unfollow, toogleOfButton } from \"../usersReducer\";\r\n\r\n\r\n\r\nexport const getUsersThunk = (currentPage, pageSize) => (dispatch) => {\r\n    toogleIsFetching(true);\r\n    getUsers(currentPage, pageSize)\r\n        .then(response => {\r\n            dispatch(setUsers(response.data.items))\r\n            dispatch(toogleIsFetching(false))\r\n        })\r\n}\r\n\r\nexport const onSetPageThunk = (pageNum, pageSize) => (dispatch) => {\r\n    dispatch(setPage(pageNum))\r\n    dispatch(toogleIsFetching(true))\r\n    getUsers(pageNum, pageSize)\r\n        .then(response => {\r\n            dispatch(setUsers(response.data.items))\r\n            dispatch(toogleIsFetching(false))\r\n        })\r\n}\r\n\r\nexport const followThunk = (userId) => (dispatch) => {\r\n    sub(userId).then(response => {\r\n        if (response.data.resultCode == 0) {\r\n            dispatch(follow(userId))\r\n        }\r\n        dispatch(toogleOfButton(false))\r\n    })\r\n}\r\n\r\nexport const unFollowThunk = (userId) => (dispatch) => {\r\n    unSub(userId)\r\n        .then(response => {\r\n            if (response.data.resultCode == 0) {\r\n                dispatch(unfollow(userId))\r\n            }\r\n        })\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"users\":\"Users_users__Tm-YD\",\"user\":\"Users_user__GvrbV\",\"info\":\"Users_info__-fEbp\",\"name\":\"Users_name__boBHn\",\"btns\":\"Users_btns__J4KyO\",\"followed\":\"Users_followed__8Ocz8\"};","import React from 'react'\r\nimport classes from './Users.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { useDispatch } from 'react-redux'\r\nimport { unFollowThunk } from '../../redux/async/usersThunk'\r\nimport { followThunk } from '../../redux/async/usersThunk'\r\n\r\nconst User = ({id, photos, followed, status, name }) =>{\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    return <>\r\n        <div key={id} className={classes.users}>\r\n                    <div className={classes.user}>\r\n                        <NavLink to={`../profile/${id}`}><img src={photos.small != null\r\n                            ? photos.small\r\n                            : \"https://cdn1.ozone.ru/s3/multimedia-a/c1200/6064056070.jpg\"} /></NavLink><br />\r\n                        <div>\r\n                            {followed\r\n                                ? <button className={classes.followed} onClick={() => {\r\n                                    dispatch(unFollowThunk(id))\r\n\r\n                                }}>unfollow</button>\r\n                                : <button className={classes.followed} onClick={() => {\r\n                                    dispatch(followThunk(id))\r\n                                }}>follow</button>}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={classes.info}>\r\n                        <div className={classes.name}>\r\n                            <div>{name}</div>\r\n                            <div>{status != null\r\n                                ? status\r\n                                : 'Here need a status'}</div>\r\n                        </div>\r\n                        <div className={classes.location}>\r\n                            <div>{\"Atlantic ocean\"}</div>\r\n                            <div>{\"Bikini Bottom\"}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n    </>\r\n}\r\n\r\nexport default User","import React, { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport { getUsersThunk } from \"../../redux/async/usersThunk\";\r\nimport { getCurrentPage, getFetching, getTotalUsersCount, getPageSize, getUsers } from \"../../redux/selectors/users-selectors\";\r\nimport User from './User'\r\nimport { Outlet } from \"react-router-dom\";\r\n\r\nlet Users = (props) => {\r\n\r\n    const dispatch = useDispatch()\r\n    const totalUsersCount = useSelector(getTotalUsersCount)\r\n    const pageSize = useSelector(getPageSize)\r\n    const currentPage = useSelector(getCurrentPage)\r\n    const users = useSelector(getUsers)\r\n    const isFetching = useSelector(getFetching)\r\n\r\n    useEffect(() => {\r\n        if (users.length === 0) {\r\n            dispatch(getUsersThunk(currentPage, pageSize))\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n\r\n        <div>Users {\r\n            users.map(u => <User key={u.id} id={u.id} photos={u.photos} followed={u.followed} status={u.status} name={u.name} />\r\n            )\r\n\r\n        }\r\n            <Paginator\r\n                isFetching={isFetching}\r\n                pageSize={pageSize}\r\n                totalItemsCount={totalUsersCount}\r\n                currentPage={currentPage}\r\n                portionSize={5} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users"],"names":["isFetching","pageSize","currentPage","totalItemsCount","portionSize","dispatch","useDispatch","pages","pagesCount","Math","ceil","portionCount","useState","portionNumber","setState","firstPortionItem","lastPortionItem","i","push","portionPages","filter","p","className","classes","Preloader","onClick","map","e","pageNum","setPage","toogleIsFetching","getUsers","then","response","setUsers","data","items","onSetPageThunk","name","id","photos","followed","status","to","src","small","userId","unSub","resultCode","unfollow","sub","follow","toogleOfButton","props","totalUsersCount","useSelector","getTotalUsersCount","getPageSize","getCurrentPage","users","getFetching","useEffect","length","getUsersThunk","u"],"sourceRoot":""}